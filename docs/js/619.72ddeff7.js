"use strict";(globalThis["webpackChunklive_frame_webapp"]=globalThis["webpackChunklive_frame_webapp"]||[]).push([[619],{3619:(e,t,i)=>{i.r(t),i.d(t,{default:()=>J});var n=i(9835);const o={id:"validate-box",class:"flex column q-gutter-y-lg",style:{width:"100%"}},s=(0,n._)("div",{class:"text-h3"},"Uitnodiging",-1);function r(e,t,i,r,l,c){const a=(0,n.up)("error-notification"),u=(0,n.up)("input-row"),d=(0,n.up)("q-btn"),p=(0,n.up)("code-keyboard"),h=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(h,{padding:"",class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("div",o,[s,(0,n.Wm)(a,{ref:"alert"},null,512),(0,n.Wm)(u,{"chunk-size":e.codeChunkSize,size:e.codeSize,ref:"input-row",onInput:t[0]||(t[0]=t=>e.code=t)},null,8,["chunk-size","size"]),(0,n.Wm)(d,{color:"primary",label:"Versturen",onClick:e.submitCode,class:"full-width q-mt-lg",size:"lg",disable:!e.isCodeComplete},null,8,["onClick","disable"]),(0,n.Wm)(p,{onInput:t[1]||(t[1]=t=>e.inputBox.addNumber(t)),onDelete:t[2]||(t[2]=()=>e.inputBox.removeNumber())})])])),_:1})}var l=i(8628),c=i(6970),a=i(1957);const u={style:{position:"relative"}},d={id:"alert"},p={id:"close-btn"},h={id:"title"},m={id:"content"};function v(e,t,i,o,s,r){const l=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n.wy)((0,n._)("div",d,[(0,n._)("div",p,[(0,n.Wm)(l,{flat:"",round:"",size:"sm",icon:"mdi-close",onClick:t[0]||(t[0]=()=>e.isVisible=!1)})]),(0,n._)("div",h,(0,c.zw)(e.caption),1),(0,n._)("div",m,(0,c.zw)(e.text),1)],512),[[a.F8,e.isVisible]])])}const b=(0,n.aZ)({emits:["close"],data(){return{caption:"Alert",text:"",isVisible:!1}},methods:{show(e,t){this.caption=e,this.text=t,this.isVisible=!0}},expose:["show"]});var f=i(1639),w=i(4455),x=i(9984),k=i.n(x);const g=(0,f.Z)(b,[["render",v],["__scopeId","data-v-1e06c216"]]),y=g;k()(b,"components",{QBtn:w.Z});const C={class:"flex row justify-end full-width"};function z(e,t,i,o,s,r){const l=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",C,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(10,(t=>(0,n.Wm)(l,{key:t,class:"keyboard-button",label:t%10,onClick:()=>e.$emit("input",t%10)},null,8,["label","onClick"]))),64)),(0,n.Wm)(l,{class:"keyboard-button",style:{"font-size":"unset !important"},icon:"mdi-backspace",onClick:t[0]||(t[0]=()=>e.$emit("delete"))})])}const I=(0,n.aZ)({emits:["input","delete"]}),_=(0,f.Z)(I,[["render",z],["__scopeId","data-v-67433da7"]]),Z=_;k()(I,"components",{QBtn:w.Z});const S={class:"flex row flex-center no-wrap"},q={key:0,style:{width:"6px",border:"1px solid black","margin-left":"2px","margin-right":"2px"}};function B(e,t,i,o,s,r){const l=(0,n.up)("input-cell");return(0,n.wg)(),(0,n.iD)("div",S,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.size,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[(0,n.Wm)(l,{value:e.numbers[t-1],"is-active":e.activeIndex===t-1,onClick:()=>e.activeIndex=t-1},null,8,["value","is-active","onClick"]),void 0!==e.chunkSize&&t%e.chunkSize===0&&t!==e.size?((0,n.wg)(),(0,n.iD)("div",q)):(0,n.kq)("",!0)],64)))),128))])}function D(e,t,i,o,s,r){const l=(0,n.up)("q-chip");return(0,n.wg)(),(0,n.j4)(l,{style:(0,c.j5)([{width:"1.5em",height:"2.2em","font-weight":"bold","font-size":"1.1em",padding:"2px",margin:"2px"},{"border-width":e.isActive?"2px":void 0}]),color:e.color,outline:"",clickable:"",onClick:t[0]||(t[0]=t=>e.$emit("click",t))},{default:(0,n.w5)((()=>{var t;return[(0,n.Uk)((0,c.zw)(e.isActive?"*":null!==(t=e.value)&&void 0!==t?t:""),1)]})),_:1},8,["style","color"])}const N=(0,n.aZ)({emits:["click"],props:{value:{type:Number,default:void 0},isActive:{type:Boolean,default:!1}},computed:{color(){return this.isActive?"primary":void 0===this.value?"grey":"black"}}});var W=i(7691);const $=(0,f.Z)(N,[["render",D]]),j=$;k()(N,"components",{QChip:W.Z});const A=(0,n.aZ)({components:{InputCell:j},emits:["complete","input"],props:{size:{type:Number,required:!0},chunkSize:{type:Number,default:void 0}},data(){const e=[];return{numbers:e,activeIndex:0}},methods:{addNumber(e){this.activeIndex!==this.size&&(this.numbers[this.activeIndex]=e,this.activeIndex++,this.activeIndex===this.size&&this.$emit("complete",this.value))},removeNumber(){0!==this.activeIndex&&(this.numbers[this.activeIndex]=void 0,this.activeIndex--)}},computed:{value(){return this.numbers.filter((e=>void 0!==e)).slice(0,this.size).join("")}},watch:{value(e){this.$emit("input",e)}}}),Q=(0,f.Z)(A,[["render",B]]),V=Q;var K=i(3830),U=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{c(n.next(e))}catch(t){s(t)}}function l(e){try{c(n["throw"](e))}catch(t){s(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,l)}c((n=n.apply(e,t||[])).next())}))};const H=(0,n.aZ)({components:{ErrorNotification:y,CodeKeyboard:Z,InputRow:V},setup(){const e=(0,K.K)();return{codeSize:12,codeChunkSize:4,firebaseStore:e}},data(){return{code:""}},computed:{isCodeComplete(){return this.code.length===this.codeSize},refs(){return this.$refs},alertBox(){return this.refs["alert"]},inputBox(){return this.refs["input-row"]}},methods:{submitCode(){var e;return U(this,void 0,void 0,(function*(){if(this.isCodeComplete)try{const t=(0,l.hJ)(this.firebaseStore.database,"validated_users"),i=(0,l.JU)(t,null===(e=this.firebaseStore.user)||void 0===e?void 0:e.uid);yield(0,l.pl)(i,{"invitation-code":this.code}),this.$router.push({name:"UploadImagePage"})}catch(t){this.alertBox.show("Let op!","Code niet bekend. Controleer de code en probeer het later nogmaals.")}}))}}});var P=i(9885);const Y=(0,f.Z)(H,[["render",r]]),J=Y;k()(H,"components",{QPage:P.Z,QBtn:w.Z})}}]);